package main;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Scanner;
import java.util.StringTokenizer;

import Addressbook.Address;
import Addressbook.Addressbook;
import Addressbook.Contact;
import bst.TreeIterator;
import bst.TreeNode;

public class helper {


	/**
	 * scanner object
	 */
	private static Scanner scanner;
	/**
	 * Addressbook Variable
	 */
	private static Addressbook addressbook;
	
	public static void start(String path) {
		
		try {
			scanner = new Scanner(new File(path));
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		addressbook = fileInfoGetter();
		TreeIterator<Contact> t = addressbook.iterator();
		t.setInorder();
		System.out.println("working");
		while(t.hasNext())
		{
			System.out.println(t.next().toString());
		}
	}

	private static Addressbook fileInfoGetter() {
		
		//
		
		Addressbook book = new Addressbook();
		
		while(scanner.hasNextLine()) 
		{
			StringTokenizer st = new StringTokenizer(scanner.nextLine());
			ArrayList<String> al = new ArrayList<String>();
			while(st.hasMoreTokens())
			{	
				String info = st.nextToken("\t");
				if(info.compareTo(" ") > 0)
				{
					al.add(info);
				}
			}
						
			Contact contact = new Contact(al.get(0)+" "+al.get(1), new Address(al.get(2), al.get(3), al.get(4), al.get(5)), al.get(6));
			book.add(contact);
				
		}
			return book;
	}
	
}
